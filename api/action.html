<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.59">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/Qbot-MeloBot-docs/images/icon.png"><script rel="javascript" src="/Qbot-MeloBot-docs/js/migration.js"></script><title>行为接口 | MeloBot v1 文档</title><meta name="description" content="基于 go-cqhttp，python 实现的 qbot">
    <link rel="preload" href="/Qbot-MeloBot-docs/assets/style-e84a23d3.css" as="style"><link rel="stylesheet" href="/Qbot-MeloBot-docs/assets/style-e84a23d3.css">
    <link rel="modulepreload" href="/Qbot-MeloBot-docs/assets/app-b79a0f18.js"><link rel="modulepreload" href="/Qbot-MeloBot-docs/assets/framework-1bc831b6.js"><link rel="modulepreload" href="/Qbot-MeloBot-docs/assets/action.html-688738fe.js"><link rel="modulepreload" href="/Qbot-MeloBot-docs/assets/action.html-45415d86.js"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-d57a9e35.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-3abee95e.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/cmd.html-66eb5e42.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/exceptions.html-4335a6fe.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/global.html-6e367844.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-3155b956.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-7bec46b7.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-0d211529.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-ab257cbc.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-b9524add.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/404.html-32963c73.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-9fd54152.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-372d8867.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/cmd.html-3ec5dc5b.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/exceptions.html-62304ed1.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/global.html-05387675.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-3216aa54.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-819ccf3e.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-7f218233.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-dc73d80b.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-715acdb8.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/404.html-0f613a30.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/Qbot-MeloBot-docs/" class=""><!----><span class="site-name">MeloBot v1 文档</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/Qbot-MeloBot-docs/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="引导"><span class="title">引导</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="引导"><span class="title">引导</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/guide/intro/" class="" aria-label="简介"><!--[--><!--]--> 简介 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/guide/mechanism/" class="" aria-label="机制简述"><!--[--><!--]--> 机制简述 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/guide/basic-usage/" class="" aria-label="基本使用"><!--[--><!--]--> 基本使用 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="配置"><span class="title">配置</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="配置"><span class="title">配置</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/config/botConfig/" class="" aria-label="bot 配置"><!--[--><!--]--> bot 配置 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/config/keyAnsConfig/" class="" aria-label="关键词应答配置"><!--[--><!--]--> 关键词应答配置 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/Qbot-MeloBot-docs/advanced/" class="" aria-label="进阶"><!--[--><!--]--> 进阶 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Qbot-MeloBot-docs/api/cmd" class="" aria-label="API"><!--[--><!--]--> API <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/AiCorein/Qbot-MeloBot" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/Qbot-MeloBot-docs/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="引导"><span class="title">引导</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="引导"><span class="title">引导</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/guide/intro/" class="" aria-label="简介"><!--[--><!--]--> 简介 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/guide/mechanism/" class="" aria-label="机制简述"><!--[--><!--]--> 机制简述 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/guide/basic-usage/" class="" aria-label="基本使用"><!--[--><!--]--> 基本使用 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="配置"><span class="title">配置</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="配置"><span class="title">配置</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/config/botConfig/" class="" aria-label="bot 配置"><!--[--><!--]--> bot 配置 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/config/keyAnsConfig/" class="" aria-label="关键词应答配置"><!--[--><!--]--> 关键词应答配置 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/Qbot-MeloBot-docs/advanced/" class="" aria-label="进阶"><!--[--><!--]--> 进阶 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Qbot-MeloBot-docs/api/cmd" class="" aria-label="API"><!--[--><!--]--> API <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/AiCorein/Qbot-MeloBot" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/Qbot-MeloBot-docs/api/cmd.html" class="sidebar-item sidebar-heading" aria-label="命令接口与命令模板"><!--[--><!--]--> 命令接口与命令模板 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Qbot-MeloBot-docs/api/action.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="行为接口"><!--[--><!--]--> 行为接口 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Qbot-MeloBot-docs/api/action.html#builder" class="router-link-active router-link-exact-active sidebar-item" aria-label="Builder"><!--[--><!--]--> Builder <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Qbot-MeloBot-docs/api/action.html#builder-build" class="router-link-active router-link-exact-active sidebar-item" aria-label="Builder.build()"><!--[--><!--]--> Builder.build() <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Qbot-MeloBot-docs/api/action.html#packer" class="router-link-active router-link-exact-active sidebar-item" aria-label="Packer"><!--[--><!--]--> Packer <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Qbot-MeloBot-docs/api/action.html#msg-send-packer-pack" class="router-link-active router-link-exact-active sidebar-item" aria-label="msg_send_packer.pack()"><!--[--><!--]--> msg_send_packer.pack() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Qbot-MeloBot-docs/api/action.html#msg-del-packer-pack" class="router-link-active router-link-exact-active sidebar-item" aria-label="msg_del_packer.pack()"><!--[--><!--]--> msg_del_packer.pack() <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Qbot-MeloBot-docs/api/action.html#encoder" class="router-link-active router-link-exact-active sidebar-item" aria-label="Encoder"><!--[--><!--]--> Encoder <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Qbot-MeloBot-docs/api/action.html#encoder-text" class="router-link-active router-link-exact-active sidebar-item" aria-label="Encoder.text()"><!--[--><!--]--> Encoder.text() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Qbot-MeloBot-docs/api/action.html#encoder-face" class="router-link-active router-link-exact-active sidebar-item" aria-label="Encoder.face()"><!--[--><!--]--> Encoder.face() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Qbot-MeloBot-docs/api/action.html#encoder-record" class="router-link-active router-link-exact-active sidebar-item" aria-label="Encoder.record()"><!--[--><!--]--> Encoder.record() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Qbot-MeloBot-docs/api/action.html#encoder-at" class="router-link-active router-link-exact-active sidebar-item" aria-label="Encoder.at()"><!--[--><!--]--> Encoder.at() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Qbot-MeloBot-docs/api/action.html#encoder-share" class="router-link-active router-link-exact-active sidebar-item" aria-label="Encoder.share()"><!--[--><!--]--> Encoder.share() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Qbot-MeloBot-docs/api/action.html#encoder-music" class="router-link-active router-link-exact-active sidebar-item" aria-label="Encoder.music()"><!--[--><!--]--> Encoder.music() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Qbot-MeloBot-docs/api/action.html#encoder-custom-music" class="router-link-active router-link-exact-active sidebar-item" aria-label="Encoder.custom_music()"><!--[--><!--]--> Encoder.custom_music() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Qbot-MeloBot-docs/api/action.html#encoder-image" class="router-link-active router-link-exact-active sidebar-item" aria-label="Encoder.image()"><!--[--><!--]--> Encoder.image() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Qbot-MeloBot-docs/api/action.html#encoder-reply" class="router-link-active router-link-exact-active sidebar-item" aria-label="Encoder.reply()"><!--[--><!--]--> Encoder.reply() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Qbot-MeloBot-docs/api/action.html#encoder-poke" class="router-link-active router-link-exact-active sidebar-item" aria-label="Encoder.poke()"><!--[--><!--]--> Encoder.poke() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Qbot-MeloBot-docs/api/action.html#encoder-tts" class="router-link-active router-link-exact-active sidebar-item" aria-label="Encoder.tts()"><!--[--><!--]--> Encoder.tts() <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/Qbot-MeloBot-docs/api/global.html" class="sidebar-item sidebar-heading" aria-label="全局对象"><!--[--><!--]--> 全局对象 <!--[--><!--]--></a><!----></li><li><a href="/Qbot-MeloBot-docs/api/exceptions.html" class="sidebar-item sidebar-heading" aria-label="Bot 异常"><!--[--><!--]--> Bot 异常 <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="行为接口" tabindex="-1"><a class="header-anchor" href="#行为接口" aria-hidden="true">#</a> 行为接口</h1><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>在查看此部分内容前，你应当已经阅读文档中的“进阶”部分</p></div><h2 id="builder" tabindex="-1"><a class="header-anchor" href="#builder" aria-hidden="true">#</a> Builder</h2><p>先导入其实例对象：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> utils<span class="token punctuation">.</span>cmdInterface <span class="token keyword">import</span> Builder
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="builder-build" tabindex="-1"><a class="header-anchor" href="#builder-build" aria-hidden="true">#</a> <strong>Builder.build()</strong></h3><p>行为对象构造器构造方法</p><div class="code-space"><p class="code-header"><code class="Python code">def build(self, package: dict, isEcho=False) -&gt; dict</code></p></div><ul><li><strong>package</strong>：packer 返回的 package</li><li><strong>isEcho</strong>：用于指定该 action 响应后， go-cqhttp 是否在响应事件附加上唯一标识符 echo，以用于区分响应事件。此处 isEcho 若为真，会自动使用纳秒时间戳作为唯一标识符</li><li>return：行为对象</li></ul><h2 id="packer" tabindex="-1"><a class="header-anchor" href="#packer" aria-hidden="true">#</a> Packer</h2><p>目前在 MeloBot 中，实现了两种主要的 Packer：</p><ul><li>msg_send_packer</li><li>msg_del_packer</li></ul><p>导入使用即可：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> cmdInterface <span class="token keyword">import</span> msg_send_packer
<span class="token keyword">from</span> cmdInterface <span class="token keyword">import</span> msg_del_packer
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="msg-send-packer-pack" tabindex="-1"><a class="header-anchor" href="#msg-send-packer-pack" aria-hidden="true">#</a> <strong>msg_send_packer.pack()</strong></h3><p>消息发送打包器打包方法</p><div class="code-space"><p class="code-header"><code class="Python code">def pack(self, event: dict, cqEncodeMsgs: List[Union[str, dict]], isPureText: bool=False) -&gt; dict</code></p></div><ul><li><strong>event</strong>：事件对象</li><li><strong>cqEncodeMsgs</strong>：经过 Encoder 编码的信息的列表（格式可以是 CQ 字符串或字典）</li><li><strong>isPureText</strong>：是否是纯文本。如果为 False，则告诉 go-cqhttp 不解析结果中的 CQ 字符串，因此一般不建议设置为 True</li><li>return：行为 package</li></ul><div class="custom-container danger"><p class="custom-container-title">DANGER</p><p>cqEncodeMsgs 列表中各条编码信息一定要采用相同的格式，比如都是 CQ 字符串或者都是字典，否则将导致程序异常</p></div><h3 id="msg-del-packer-pack" tabindex="-1"><a class="header-anchor" href="#msg-del-packer-pack" aria-hidden="true">#</a> <strong>msg_del_packer.pack()</strong></h3><p>消息撤回打包器打包方法</p><div class="code-space"><p class="code-header"><code class="Python code">def pack(self, msgId: int) -&gt; dict</code></p></div><ul><li><strong>msgId</strong>：消息 id，存在于事件对象的 <code>message_id</code> 键</li><li>return：行为 package</li></ul><h2 id="encoder" tabindex="-1"><a class="header-anchor" href="#encoder" aria-hidden="true">#</a> Encoder</h2><p>先导入其实例对象：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> utils<span class="token punctuation">.</span>actInterface <span class="token keyword">import</span> Encoder
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="encoder-text" tabindex="-1"><a class="header-anchor" href="#encoder-text" aria-hidden="true">#</a> <strong>Encoder.text()</strong></h3><p>文本消息编码方法</p><div class="code-space"><p class="code-header"><code class="Python code">def text(self, text: str, fromEvent: bool=True, mode: Literal[&quot;str&quot;, &quot;dict&quot;]=&quot;str&quot;) -&gt; Union[str, dict]</code></p></div><ul><li><strong>text</strong>：文本字符串</li><li><strong>fromEvent</strong>：文本内容是否来自于事件内部。如果是来自事件中的，则不需要转义，因为 go-cqhttp 传给 bot 时已经转义。但如果不是来自事件的，最好转义。</li><li><strong>mode</strong>：编码的模式是字符串还是字典</li><li>return：编码结果</li></ul><h3 id="encoder-face" tabindex="-1"><a class="header-anchor" href="#encoder-face" aria-hidden="true">#</a> <strong>Encoder.face()</strong></h3><p>qq 表情消息编码方法</p><div class="code-space"><p class="code-header"><code class="Python code">def face(self, icon_id: int, mode: Literal[&quot;str&quot;, &quot;dict&quot;]=&quot;str&quot;) -&gt; Union[str, dict]</code></p></div><ul><li><strong>icon_id</strong>：qq 表情 id，请参考外链：<a href="https://github.com/kyubotics/coolq-http-api/wiki/%E8%A1%A8%E6%83%85-CQ-%E7%A0%81-ID-%E8%A1%A8">表情 CQ 码 ID 表</a></li><li><strong>mode</strong>：编码的模式是字符串还是字典</li><li>return：编码结果</li></ul><h3 id="encoder-record" tabindex="-1"><a class="header-anchor" href="#encoder-record" aria-hidden="true">#</a> <strong>Encoder.record()</strong></h3><p>语音消息编码方法</p><div class="code-space"><p class="code-header"><code class="Python code">def record(self, url: str, timeout: int=None, magic: bool=False, mode: Literal[&quot;str&quot;, &quot;dict&quot;]=&quot;str&quot;) -&gt; Union[str, dict]</code></p></div><ul><li><strong>url</strong>：语音文件的 url</li><li><strong>timeout</strong>：当语音文件是网络资源时的下载超时时间</li><li><strong>magic</strong>：是否启用变声效果</li><li><strong>mode</strong>：编码的模式是字符串还是字典</li><li>return：编码结果</li></ul><h3 id="encoder-at" tabindex="-1"><a class="header-anchor" href="#encoder-at" aria-hidden="true">#</a> <strong>Encoder.at()</strong></h3><p>at 消息编码方法</p><div class="code-space"><p class="code-header"><code class="Python code">def at(self, qq:Union[int, Literal[&#39;all&#39;]], notInName: str=None, mode: Literal[&quot;str&quot;, &quot;dict&quot;]=&quot;str&quot;) -&gt; Union[str, dict]</code></p></div><ul><li><strong>qq</strong>：被 at 人的 qq 号，群内 at 所有人传入 &quot;all&quot;</li><li><strong>notInName</strong>：在群中找不到 at 的 qq 号时，at 消息显示的名称（若确定 at 的人在群中，请勿使用）</li><li><strong>mode</strong>：编码的模式是字符串还是字典</li><li>return：编码结果</li></ul><h3 id="encoder-share" tabindex="-1"><a class="header-anchor" href="#encoder-share" aria-hidden="true">#</a> <strong>Encoder.share()</strong></h3><p>链接分享卡片消息编码方法</p><div class="code-space"><p class="code-header"><code class="Python code">def share(self, url: str, title: str, content: str=None, image: str=None, mode: Literal[&quot;str&quot;, &quot;dict&quot;]=&quot;str&quot;) -&gt; Union[str, dict]</code></p></div><ul><li><strong>url</strong>：链接地址</li><li><strong>title</strong>：卡片标题</li><li><strong>content</strong>：卡片描述语</li><li><strong>image</strong>：卡片图片</li><li><strong>mode</strong>：编码的模式是字符串还是字典</li><li>return：编码结果</li></ul><h3 id="encoder-music" tabindex="-1"><a class="header-anchor" href="#encoder-music" aria-hidden="true">#</a> <strong>Encoder.music()</strong></h3><p>音乐分享卡片消息编码方法（专有平台的音乐）</p><div class="code-space"><p class="code-header"><code class="Python code">def music(self, platType: Literal[&quot;qq&quot;, &quot;163&quot;, &quot;xm&quot;], songId: str, mode: Literal[&quot;str&quot;, &quot;dict&quot;]=&quot;str&quot;) -&gt; Union[str, dict]</code></p></div><ul><li><strong>platType</strong>：平台类型，字面量，可选 &quot;qq&quot;, &quot;163&quot;, &quot;xm&quot;</li><li><strong>songId</strong>：歌曲 id</li><li><strong>mode</strong>：编码的模式是字符串还是字典</li><li>return：编码结果</li></ul><h3 id="encoder-custom-music" tabindex="-1"><a class="header-anchor" href="#encoder-custom-music" aria-hidden="true">#</a> <strong>Encoder.custom_music()</strong></h3><p>自定义音乐分享卡片消息编码方法</p><div class="code-space"><p class="code-header"><code class="Python code">def custom_music(self, url: str, audio: str, title: str, content: str=None, image: str=None, mode: Literal[&quot;str&quot;, &quot;dict&quot;]=&quot;str&quot;) -&gt; Union[str, dict]</code></p></div><ul><li><strong>url</strong>：自定义音乐平台的主页或网站起始页</li><li><strong>audio</strong>：歌曲链接</li><li><strong>title</strong>：卡片标题</li><li><strong>content</strong>：卡片描述语</li><li><strong>image</strong>：卡片图片</li><li><strong>mode</strong>：编码的模式是字符串还是字典</li><li>return：编码结果</li></ul><h3 id="encoder-image" tabindex="-1"><a class="header-anchor" href="#encoder-image" aria-hidden="true">#</a> <strong>Encoder.image()</strong></h3><p>图片消息编码方法</p><div class="code-space"><p class="code-header"><code class="Python code">def image(self, file: str, picType: Literal[&quot;flash&quot;, &quot;show&quot;]=None, subType: Literal[0, 1]=None, cache: Literal[0, 1]=1, mode: Literal[&quot;str&quot;, &quot;dict&quot;]=&quot;str&quot;)</code></p></div><ul><li><strong>file</strong>：图片 url</li><li><strong>picType</strong>：图片类型，字面量，&quot;flash&quot; 为闪照，&quot;show&quot; 为秀图，不填为普通图片</li><li><strong>subType</strong>：图片子类型，只在群聊生效。0 为正常图片，1 为表情包形式</li><li><strong>cache</strong>：当图片资源来自网络时，是否启用缓存，默认不启用</li><li><strong>mode</strong>：编码的模式是字符串还是字典</li><li>return：编码结果</li></ul><h3 id="encoder-reply" tabindex="-1"><a class="header-anchor" href="#encoder-reply" aria-hidden="true">#</a> <strong>Encoder.reply()</strong></h3><p>回复消息编码方法</p><div class="code-space"><p class="code-header"><code class="Python code">def reply(self, messageId: int, mode: Literal[&quot;str&quot;, &quot;dict&quot;]=&quot;str&quot;) -&gt; Union[str, dict]</code></p></div><ul><li><strong>messageId</strong>：消息 id，应该存在于事件对象的 <code>messaage_id</code> 键</li><li><strong>mode</strong>：编码的模式是字符串还是字典</li><li>return：编码结果</li></ul><h3 id="encoder-poke" tabindex="-1"><a class="header-anchor" href="#encoder-poke" aria-hidden="true">#</a> <strong>Encoder.poke()</strong></h3><p>戳一戳消息编码方法</p><div class="code-space"><p class="code-header"><code class="Python code">def poke(self, qqId: int, mode: Literal[&quot;str&quot;, &quot;dict&quot;]=&quot;str&quot;) -&gt; Union[str, dict]</code></p></div><ul><li><strong>qqId</strong>：被戳人的 qq 号，应该存在于事件对象的 <code>user_id</code> 键</li><li><strong>mode</strong>：编码的模式是字符串还是字典</li><li>return：编码结果</li></ul><h3 id="encoder-tts" tabindex="-1"><a class="header-anchor" href="#encoder-tts" aria-hidden="true">#</a> <strong>Encoder.tts()</strong></h3><p>腾讯自带 tts 语音消息消息编码方法</p><div class="code-space"><p class="code-header"><code class="Python code">def tts(self, text: str, mode: Literal[&quot;str&quot;, &quot;dict&quot;]=&quot;str&quot;) -&gt; Union[str, dict]</code></p></div><ul><li><strong>text</strong>：需要被转为语音消息的文本</li><li><strong>mode</strong>：编码的模式是字符串还是字典</li><li>return：编码结果</li></ul></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1574260633@qq.com">AiCorein</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/Qbot-MeloBot-docs/api/cmd.html" class="" aria-label="命令接口与命令模板"><!--[--><!--]--> 命令接口与命令模板 <!--[--><!--]--></a></span><span class="next"><a href="/Qbot-MeloBot-docs/api/global.html" class="" aria-label="全局对象"><!--[--><!--]--> 全局对象 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/Qbot-MeloBot-docs/assets/app-b79a0f18.js" defer></script>
  </body>
</html>
