<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.59">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/Qbot-MeloBot-docs/images/icon.png"><title>进阶 | MeloBot 文档</title><meta name="description" content="基于 go-cqhttp，python 实现的 qbot">
    <link rel="preload" href="/Qbot-MeloBot-docs/assets/style-e84a23d3.css" as="style"><link rel="stylesheet" href="/Qbot-MeloBot-docs/assets/style-e84a23d3.css">
    <link rel="modulepreload" href="/Qbot-MeloBot-docs/assets/app-93e94d5c.js"><link rel="modulepreload" href="/Qbot-MeloBot-docs/assets/framework-1bc831b6.js"><link rel="modulepreload" href="/Qbot-MeloBot-docs/assets/index.html-3abee95e.js"><link rel="modulepreload" href="/Qbot-MeloBot-docs/assets/index.html-372d8867.js"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-ab04dfcd.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/action.html-688738fe.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/cmd.html-66eb5e42.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/exceptions.html-4335a6fe.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/global.html-6e367844.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-b9524add.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-ab257cbc.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-7bec46b7.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-3155b956.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-0d211529.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/404.html-32963c73.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-9fd54152.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/action.html-45415d86.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/cmd.html-3ec5dc5b.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/exceptions.html-62304ed1.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/global.html-05387675.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-715acdb8.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-dc73d80b.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-819ccf3e.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-3517dff9.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/index.html-7f218233.js" as="script"><link rel="prefetch" href="/Qbot-MeloBot-docs/assets/404.html-0f613a30.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/Qbot-MeloBot-docs/" class=""><!----><span class="site-name">MeloBot 文档</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/Qbot-MeloBot-docs/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="引导"><span class="title">引导</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="引导"><span class="title">引导</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/guide/intro/" class="" aria-label="简介"><!--[--><!--]--> 简介 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/guide/mechanism/" class="" aria-label="机制简述"><!--[--><!--]--> 机制简述 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/guide/basic-usage/" class="" aria-label="基本使用"><!--[--><!--]--> 基本使用 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="配置"><span class="title">配置</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="配置"><span class="title">配置</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/config/botConfig/" class="" aria-label="bot 配置"><!--[--><!--]--> bot 配置 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/config/keyAnsConfig/" class="" aria-label="关键词应答配置"><!--[--><!--]--> 关键词应答配置 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a aria-current="page" href="/Qbot-MeloBot-docs/advanced/" class="router-link-active router-link-exact-active router-link-active" aria-label="进阶"><!--[--><!--]--> 进阶 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Qbot-MeloBot-docs/api/cmd" class="" aria-label="API"><!--[--><!--]--> API <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/AiCorein/Qbot-MeloBot" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/Qbot-MeloBot-docs/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="引导"><span class="title">引导</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="引导"><span class="title">引导</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/guide/intro/" class="" aria-label="简介"><!--[--><!--]--> 简介 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/guide/mechanism/" class="" aria-label="机制简述"><!--[--><!--]--> 机制简述 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/guide/basic-usage/" class="" aria-label="基本使用"><!--[--><!--]--> 基本使用 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="配置"><span class="title">配置</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="配置"><span class="title">配置</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/config/botConfig/" class="" aria-label="bot 配置"><!--[--><!--]--> bot 配置 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Qbot-MeloBot-docs/config/keyAnsConfig/" class="" aria-label="关键词应答配置"><!--[--><!--]--> 关键词应答配置 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a aria-current="page" href="/Qbot-MeloBot-docs/advanced/" class="router-link-active router-link-exact-active router-link-active" aria-label="进阶"><!--[--><!--]--> 进阶 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Qbot-MeloBot-docs/api/cmd" class="" aria-label="API"><!--[--><!--]--> API <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/AiCorein/Qbot-MeloBot" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">进阶 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Qbot-MeloBot-docs/advanced/#使用备用-优先任务队列" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用备用/优先任务队列"><!--[--><!--]--> 使用备用/优先任务队列 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Qbot-MeloBot-docs/advanced/#增加命令方法" class="router-link-active router-link-exact-active sidebar-item" aria-label="增加命令方法"><!--[--><!--]--> 增加命令方法 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Qbot-MeloBot-docs/advanced/#命令方法的装饰器" class="router-link-active router-link-exact-active sidebar-item" aria-label="命令方法的装饰器"><!--[--><!--]--> 命令方法的装饰器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Qbot-MeloBot-docs/advanced/#命令方法的行为封装" class="router-link-active router-link-exact-active sidebar-item" aria-label="命令方法的行为封装"><!--[--><!--]--> 命令方法的行为封装 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Qbot-MeloBot-docs/advanced/#总结" class="router-link-active router-link-exact-active sidebar-item" aria-label="总结"><!--[--><!--]--> 总结 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="进阶" tabindex="-1"><a class="header-anchor" href="#进阶" aria-hidden="true">#</a> 进阶</h1><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>在查看此部分内容前，请确保你已经看过关于 MeloBot 机制、MeloBot 配置的文档介绍。</p></div><h2 id="使用备用-优先任务队列" tabindex="-1"><a class="header-anchor" href="#使用备用-优先任务队列" aria-hidden="true">#</a> 使用备用/优先任务队列</h2><p>MeloBot 平时传送所有事件和行为，都会在默认队列和默认事件处理器中。如果因为某些阻塞或异常原因，不想在默认队列等待，需要立刻执行某些操作，便可以使用备用/优先队列和备用事件处理器。<strong>使用的方法是，在命令前加一个 prior 关键字</strong>。比如在备用队列和备用事件处理器中运行关闭命令：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$prior#lifecycle#close
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="增加命令方法" tabindex="-1"><a class="header-anchor" href="#增加命令方法" aria-hidden="true">#</a> 增加命令方法</h2><p>目前 MeloBot 内置了一些基本的命令。但对于自定义或个性化的需求肯定是远远不够的。因此 MeloBot 内部实现了一些接口，帮助扩展命令的实现，以此来扩充 bot 的功能。</p><p>比如，如果我们想实现一个天气预报查询的命令。预期命令结构如下：（起始符：$, 分隔符：#）</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$weather#城市名#天数
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>要实现这一命令，我们只需要到项目根目录的 <code>./templates</code> 目录中，新建一个名为 <code>weather.py</code> 的文件，然后写入以下代码：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
weather.py
&quot;&quot;&quot;</span>
<span class="token comment"># 导入命令接口的实例</span>
<span class="token keyword">from</span> utils<span class="token punctuation">.</span>cmdInterface <span class="token keyword">import</span> ExeI
<span class="token comment"># 导入行为接口的行为 Builder, 行为的 Encoder 和 消息类型的 packer</span>
<span class="token keyword">from</span> utils<span class="token punctuation">.</span>actInterface <span class="token keyword">import</span> Builder<span class="token punctuation">,</span> Encoder<span class="token punctuation">,</span> msg_send_packer


<span class="token decorator annotation punctuation">@ExeI<span class="token punctuation">.</span>sync_method</span><span class="token punctuation">(</span>userLevel<span class="token operator">=</span>ExeI<span class="token punctuation">.</span>role<span class="token punctuation">.</span>USER<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">weather</span><span class="token punctuation">(</span>event<span class="token punctuation">:</span> <span class="token builtin">dict</span><span class="token punctuation">,</span> city<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> period<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">dict</span><span class="token punctuation">:</span>
    <span class="token comment"># 假设已经实现了 get_weather_of_city 的方法</span>
    weather_str <span class="token operator">=</span> get_weather_of_city<span class="token punctuation">(</span>city<span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>period<span class="token punctuation">)</span><span class="token punctuation">)</span>
    action <span class="token operator">=</span> Builder<span class="token punctuation">.</span>build<span class="token punctuation">(</span>
        msg_send_packer<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>
            event<span class="token punctuation">,</span>
            <span class="token punctuation">[</span>Encoder<span class="token punctuation">.</span>text<span class="token punctuation">(</span>weather_str<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token keyword">return</span> action
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="命令方法的装饰器" tabindex="-1"><a class="header-anchor" href="#命令方法的装饰器" aria-hidden="true">#</a> 命令方法的装饰器</h3><p>其实，我们通过上面这段代码，就实现了一个命令方法，或者说叫命令模板。并且可以看出，这一命令方法是通过 <code>ExeI</code> 命令接口实例的装饰器所修饰的。<strong>这一装饰器的作用非常重要，它实现了一些预先的操作</strong>，比如这里的预先权限检查：通过设置 <code>userLevel</code> 参数为 ExeI.role.USER 这个权限常量，使得权限至少为 USER 才能调用该命令。而装饰器选择 sync_method 则是因为我们的 <code>weather()</code> 是一个同步方法。</p><h3 id="命令方法的行为封装" tabindex="-1"><a class="header-anchor" href="#命令方法的行为封装" aria-hidden="true">#</a> 命令方法的行为封装</h3><p>那么再往下看，在我们获得命令执行的字符串结果之后，如何将它包装为一个行为呢？这时候，就要用到我们的行为 Builder。这里 Builder 的 build 方法接受了一个 packer 返回的 package（包装），而这个 package 的形成，又依赖于 event 和 Encoder 产出的一个 encode 列表。</p><p>听起来很乱，对吧？（<del>其实我也是这么觉得的</del>）</p><p>需要上面这些操作，是因为“行为”本身结构的复杂性所导致的。首先行为是有很多种的：发消息，加好友，撤回消息等等。<strong>不同行为，其在行为对象中表示形式不一样，因此需要不同的 packer 来完成不同行为的封装</strong>。这里我们要发消息，自然就使用 <code>msg_send_packer</code> 这种 packer。如果要实现撤回消息，我们就可以使用另一个叫<code> msg_del_packer</code> 的 packer：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>action <span class="token operator">=</span> Builder<span class="token punctuation">.</span>build<span class="token punctuation">(</span>
    msg_del_packer<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接下来，自然就是 packer 要打包东西然后返回咯。让我们想想，现在已经确定了行为的类别，还要确定的东西有：行为的具体内容和行为的接受者。行为的接受者，往往是指群 qq 号或者好友 qq 号这类信息，<strong>这些信息在事件里有，所以 packer 打包的时候需要事件对象</strong>。再说行为的具体操作，又有很多种了：发文本、发图片、发语音等等。这里就有两个问题：</p><ul><li>一个行为对象里可以携带多个行为操作（比如一条 qq 消息可以同时发图片和文本）</li><li>图片和文本的表示形式是不一样的</li></ul><p>为了解决这两个问题，<strong>packer 第二个参数接受一个列表。每个列表项就是具体一类操作被 Encoder 编码后的结果</strong>。Encoder 会处理好文本和图片表示形式不一样的问题；而参数为列表类型，也正是为了一次可以携带多个行为。最后这个发文本又发图片的写法就是：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>action <span class="token operator">=</span> Builder<span class="token punctuation">.</span>build<span class="token punctuation">(</span>
    msg_send_packer<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>event<span class="token punctuation">,</span> <span class="token punctuation">[</span>
            Encoder<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token string">&quot;这是一张图片：&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            Encoder<span class="token punctuation">.</span>image<span class="token punctuation">(</span>
                <span class="token builtin">file</span><span class="token operator">=</span><span class="token string">&#39;https://api.ixiaowai.cn/api/api.php&#39;</span><span class="token punctuation">,</span>
                cache<span class="token operator">=</span><span class="token string">&#39;0&#39;</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>至此，行为的构建过程已经十分清晰。</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Encoder 编码后的这种格式，其实被称为“CQ 码”。</p><p>详情参见外链：<a href="https://docs.go-cqhttp.org/cqcode/" target="_blank" rel="noopener noreferrer">CQ 码/CQ Code<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2><p>如果你认真看完了以上内容，应该对于 MeloBot 的命令机制有了更加深入的理解，也可以写一些比较简单的命令了。如果想要了解更多，可以进入下一篇关于 API 的内容。</p><br> 下一篇： <a href="/Qbot-MeloBot-docs/api/cmd.html">MeloBot API</a></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1574260633@qq.com">AiCorein</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/Qbot-MeloBot-docs/assets/app-93e94d5c.js" defer></script>
  </body>
</html>
